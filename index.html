<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Ù…Ø­ÙˆÙ„ Ø§Ù„Ø¹Ù…Ù„Ø§Øª Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© ÙˆØ§Ù„Ø¹Ø§Ù„Ù…ÙŠØ©</title>

<style>
body{
  margin:0;
  font-family:Arial,sans-serif;
  background:linear-gradient(135deg,#020617,#0f172a);
  color:#fff;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
}
.converter{
  background:#1e293b;
  padding:25px;
  border-radius:12px;
  width:400px;
  text-align:center;
  box-shadow:0 10px 25px rgba(0,0,0,.5);
}
input,select,button{
  width:100%;
  padding:10px;
  margin:8px 0;
  border:none;
  border-radius:6px;
  font-size:15px;
}
input,select{background:#020617;color:#fff}
button{
  background:#22c55e;
  color:#fff;
  font-weight:bold;
  cursor:pointer;
}
button:hover{background:#16a34a}
.swap{
  background:#38bdf8;
}
.swap:hover{
  background:#0ea5e9;
}
#result{margin-top:15px;font-size:16px;line-height:1.6}
.flag{
  font-size:18px;
  margin-right:5px;
}
</style>
</head>

<body>

<div class="converter">
  <h2>ğŸŒ  Ù…Ø­ÙˆÙ„ Ø§Ù„Ø¹Ù…Ù„Ø§Øª Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© ÙˆØ§Ù„Ø¹Ø§Ù„Ù…ÙŠØ©</h2>

  <input type="number" id="amount" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ù…Ø¨Ù„Øº">

  <select id="from"></select>

  <button class="swap" onclick="swapCurrencies()">ğŸ”„ ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ø¹Ù…Ù„Ø§Øª</button>

  <select id="to"></select>

  <button onclick="convert()">ğŸ’± ØªØ­ÙˆÙŠÙ„</button>

  <p id="result"></p>
</div>

<script>
const fromSelect = document.getElementById("from");
const toSelect = document.getElementById("to");
const result = document.getElementById("result");

// Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø¹Ø±Ø¨ÙŠ Ù„Ù„Ø¹Ù…Ù„Ø©
const currencyDisplay = new Intl.DisplayNames(['ar'], { type: 'currency' });

// Ø£Ø¹Ù„Ø§Ù… Ø¨Ø¹Ø¶ Ø§Ù„Ø¹Ù…Ù„Ø§Øª (ÙŠÙ…ÙƒÙ† Ø§Ù„ØªÙˆØ³ÙŠØ¹)
const flags = {
  USD:"ğŸ‡ºğŸ‡¸", EUR:"ğŸ‡ªğŸ‡º", MAD:"ğŸ‡²ğŸ‡¦", SAR:"ğŸ‡¸ğŸ‡¦", AED:"ğŸ‡¦ğŸ‡ª",
  EGP:"ğŸ‡ªğŸ‡¬", GBP:"ğŸ‡¬ğŸ‡§", JPY:"ğŸ‡¯ğŸ‡µ", CAD:"ğŸ‡¨ğŸ‡¦",
  AUD:"ğŸ‡¦ğŸ‡º", KWD:"ğŸ‡°ğŸ‡¼", QAR:"ğŸ‡¶ğŸ‡¦", BHD:"ğŸ‡§ğŸ‡­"
};

// ØªØ­Ù…ÙŠÙ„ ÙƒÙ„ Ø§Ù„Ø¹Ù…Ù„Ø§Øª
async function loadCurrencies(){
  const res = await fetch("https://api.exchangerate-api.com/v4/latest/USD");
  const data = await res.json();

  Object.keys(data.rates).forEach(code=>{
    const arName = currencyDisplay.of(code) || code;
    const flag = flags[code] || "ğŸŒ";
    const text = `${flag} ${arName} (${code})`;

    fromSelect.add(new Option(text, code));
    toSelect.add(new Option(text, code));
  });

  fromSelect.value = "USD";
  toSelect.value = "MAD";
}
loadCurrencies();

// ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ø¹Ù…Ù„Ø§Øª
function swapCurrencies(){
  const temp = fromSelect.value;
  fromSelect.value = toSelect.value;
  toSelect.value = temp;
}

// Ø§Ù„ØªØ­ÙˆÙŠÙ„
async function convert(){
  const amount = document.getElementById("amount").value;
  if(!amount || amount <= 0){
    result.innerText = "âŒ Ø£Ø¯Ø®Ù„ Ù…Ø¨Ù„Øº ØµØ­ÙŠØ­";
    return;
  }

  const from = fromSelect.value;
  const to = toSelect.value;

  const res = await fetch(`https://api.exchangerate-api.com/v4/latest/${from}`);
  const data = await res.json();

  const converted = (amount * data.rates[to]).toFixed(2);

  const fromName = currencyDisplay.of(from) || from;
  const toName = currencyDisplay.of(to) || to;

  const fromFlag = flags[from] || "ğŸŒ";
  const toFlag = flags[to] || "ğŸŒ";

  result.innerText = 
`âœ… ${amount} ${fromName} ${fromFlag}
= ${converted} ${toName} ${toFlag}`;
}
</script>

</body>
</html>